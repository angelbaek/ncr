<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <!-- test css -->
  <link rel="stylesheet" href="/static/css/common.css" />
  <link rel="stylesheet" href="/static/css/user_exam_explanation.css" />
  <!-- common css -->
  <link rel="stylesheet" href="/css/common.css" />
  <link rel="stylesheet" href="/css/user_exam_explanation.css" />
  <!-- font awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css"
  />
  <body>
    <div class="left_nav">
      <div class="nav_title">
        <a href="/">국가기간망<br />침투대응훈련</a>
      </div>
      <div class="nav_contents">
        <div class="common_left_menubar" id="now_place">
          <a href="user_group_setting">그룹 설정</a>
        </div>
        <div class="common_left_menubar" id="now_position">문제 풀이</div>
        <div class="common_left_menubar">
          <a href="user_exam_statics">훈련 통계</a>
        </div>
      </div>
    </div>
    <div class="top_user_info">
      <div class="contents_title">문제 풀이</div>
      <div class="top_user_info_div" onclick="showLogOutBtn()">
        <img src="/public/images/avatar-1.png" alt="user" />
        <div class="userName">User Name</div>
        <i class="fas fa-caret-down" id="logout"></i>
        <div class="logout_btn" onclick="logOut()">로그아웃</div>
      </div>
    </div>
    <!-- 문제 풀이 -->
    <div class="contents">
      <button class="exam_status_vm">VM</button>
      <div class="now_exam_status">
        <div class="exam_status_time">제한 시간:</div>
        <div id="demo"></div>
        <div class="exam_status_score">
          <div class="total_count">풀이 개수: -</div>
          <div class="total_score">정답점수: -</div>
          <div class="total_fail_score">오답점수: -</div>
          <div class="total_hint_deduct">힌트점수: -</div>
        </div>
      </div>
      <div class="exam_explanation"></div>
      <div class="miter_box">
        <div class="miter_title">MITER ATTACK</div>
        <div class="miter_box_common" style="background-color: #0101df">
          <div>정찰</div>
          <div id="ta43"></div>
        </div>
        <div class="miter_box_common" style="background-color: #013adf">
          <div>자원 개발</div>
          <div id="ta42"></div>
        </div>
        <div class="miter_box_common" style="background-color: #0174df">
          <div>최초 침투</div>
          <div id="ta1"></div>
        </div>
        <div class="miter_box_common" style="background-color: #01a9db">
          <div>실행</div>
          <div id="ta2"></div>
        </div>
        <div class="miter_box_common" style="background-color: #01dfd7">
          <div>지속</div>
          <div id="ta3"></div>
        </div>
        <div class="miter_box_common" style="background-color: #01df74">
          <div>권한 상승</div>
          <div id="ta4"></div>
        </div>
        <div class="miter_box_common" style="background-color: #01df01">
          <div>방어 회피</div>
          <div id="ta5"></div>
        </div>
        <div class="miter_box_common" style="background-color: #74df00">
          <div>계정 접근</div>
          <div id="ta6"></div>
        </div>
        <div class="miter_box_common" style="background-color: #a5df00">
          <div>탐색</div>
          <div id="ta7"></div>
        </div>
        <div class="miter_box_common" style="background-color: #d7df01">
          <div>측면 이동</div>
          <div id="ta8"></div>
        </div>
        <div class="miter_box_common" style="background-color: #dba901">
          <div>정보 수집</div>
          <div id="ta9"></div>
        </div>
        <div class="miter_box_common" style="background-color: #df7401">
          <div>명령 제어</div>
          <div id="ta11"></div>
        </div>
        <div class="miter_box_common" style="background-color: #df3a01">
          <div>정보 유출</div>
          <div id="ta10"></div>
        </div>
        <div class="miter_box_common" style="background-color: #df0101">
          <div>영향</div>
          <div id="ta40"></div>
        </div>
      </div>
      <!-- 제출하기 -->
      <div class="exam_submit">
        <button onclick="submitPopup()">제출하기</button>
      </div>
      <!-- 백그라운드 -->
      <div class="back"></div>
      <!-- 힌트 -->
      <div class="hint_popup">
        <div class="hint_popup_div">
          <div class="hint_popup_title">힌트</div>
          <div class="hint_popup_contents">힌트 내용</div>
          <div>
            <button onclick="hintPopUp()">확인</button>
          </div>
        </div>
      </div>
      <!-- 제출하기 팝업 -->
      <div class="submit_popup">
        <div class="submit_popup_contents">
          제출하시면 해당그룹은 더 이상 문제를 풀 수 없습니다.<br /><br />제출
          하시겠습니까?
        </div>
        <div class="submit_popup_button">
          <button onclick="submitExam()">제출하기</button
          ><button onclick="submitPopup()">취소</button>
        </div>
      </div>
      <!-- 정답 알림 -->
      <div class="resultTrue">알림</div>
    </div>
  </body>
  <script
    src="https://code.jquery.com/jquery-3.6.3.js"
    integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
    crossorigin="anonymous"
  ></script>
  <script src="/static/js/common.js"></script>
  <script src="/js/common.js"></script>
  <script src="/static/js/user_exam_explanation.js"></script>
  <script src="/js/user_exam_explanation.js"></script>
  <script>
    $(".submit_popup").css("display", "none");
    $(".hint_popup").css("display", "none");
    $(".resultTrue").css("display", "none");
    $(".back").css("display", "none");

    // 경과시간
    // var time = timeReturn(); //기준시간 작성
    var time;
    // 테스트를 위한 임시 시간
    var min = ""; //분
    var sec = ""; //초

    //setInterval(함수, 시간) : 주기적인 실행
    var x = setInterval(function () {
      //parseInt() : 정수를 반환
      h = parseInt(time / 3600); // 시
      m = parseInt((time - h * 3600) / 60);
      sec = time % 60; //나머지를 계산

      document.getElementById("demo").innerHTML =
        " &nbsp" + h + "시 " + m + "분 " + sec + "초 ";
      time--;

      //타임아웃 시
      if (time < 0) {
        clearInterval(x); //setInterval() 실행을 끝냄
        document.getElementById("demo").innerHTML = "제한 시간이 끝났습니다.";
        alert("풀이 시간 종료!!");
        $(".back").toggle();
        $(".common_exam_contents button").prop("disabled", true);
        $(".common_exam_contents button").css("backgroundColor", "gray");
      }
    }, 1000);

    // 스크롤에 따른 이벤트
    $(window).scroll(function () {
      var height = $(window).scrollTop();
      if (height > 100) {
        $(".now_exam_status").css("position", "fixed");
        $(".now_exam_status").css("width", "75%");
        $(".now_exam_status").css("left", "250px");
        $(".now_exam_status").css("backgroundColor", "white");
        $(".now_exam_status").css("paddingTop", "25px");
        $(".now_exam_status").css("paddingBottom", "10px");
        $(".now_exam_status").css("paddingLeft", "10px");
        $(".now_exam_status").css("top", "0");
        $(".now_exam_status").css("z-index", "2");
        // $(".now_exam_status").css(
        //   "box-shadow",
        //   "0px 0.5px 0px 0px rgb(0 0 0 / 30%)"
        // );
        $(".now_exam_status").css("top", "0");
        // 추가
        $(".now_exam_status").css("height", "70px");
        $(".exam_status_score").css("padding-left", "300px");
        // 헤더 추가
        $(".top_user_info").css("position", "fixed");
        $(".top_user_info").css("backgroundColor", "white");
        $(".top_user_info").css("color", "black");
        $(".top_user_info").css(
          "box-shadow",
          "0px 0.5px 0px 1px rgb(0 0 0 / 30%)"
        );
        //로그아웃
        $(".logout_btn").css("color", "white");
        //사용자 정보
        $(".userName").css("font-weight", "bold");
      } else {
        $(".now_exam_status").css("position", "relative");
        $(".now_exam_status").css("width", "auto");
        $(".now_exam_status").css("left", "auto");
        // $(".now_exam_status").css("backgroundColor", "transparent");
        $(".now_exam_status").css("paddingTop", "15px");
        $(".now_exam_status").css("paddingBottom", "0px");
        $(".now_exam_status").css("paddingLeft", "0px");
        // $(".now_exam_status").css("margin-top", "-100px");
        // $(".exam_status_vm").css("padding-top", "-300px");
        $(".now_exam_status").css("z-index", "1");
        $(".now_exam_status").css("box-shadow", "none");
        //추가
        // $(".now_exam_status").css("height", "10px");
        $(".exam_status_score").css("margin-left", "330px");
        $(".exam_status_score").css("padding-left", "300px");
        // 헤더 추가
        $(".top_user_info").css("position", "relative");
        $(".top_user_info").css("backgroundColor", "#6777ef");
        $(".top_user_info").css("color", "white");
        $(".top_user_info").css("box-shadow", "none");
        //?
        $(".contents").css("margin-top", "0px");
        //사용자 정보
        $(".userName").css("font-weight", "300");
      }
    });
  </script>
</html>
